---
import PostHeader from "../blog/post-header.astro";
import MainHeader from "./main-header.astro";
import Navbar from "../navbar.astro";
import "@fontsource-variable/inter";
import "../../global.css";
import Footer from "../footer.astro";
import NewPostHeader from "../blog/new-post-header.astro";

interface Props {
  title: string;
  description: string;
  publishedDate: Date;
  updatedDate: Date;
  ogImage: string | undefined;
}

const { title, description, publishedDate, updatedDate, ogImage } = Astro.props;

// formatting the dates and adding random time
const formattedPublishedDate = `${
  new Date(publishedDate).toISOString().split("T")[0]
}:T13:50:13+00:00`;
const formattedUpdatedDate = `${
  new Date(updatedDate).toISOString().split("T")[0]
}:T16:52:29+00:00`;
---

<!doctype html>
<html class="dark" lang="en">
  <MainHeader {title} {description} {ogImage}>
    <meta property="article:published_time" content={formattedPublishedDate} />
    <meta property="article:modified_time" content={formattedUpdatedDate} />
    <link rel="stylesheet" href="/prism-dracula.css" />
  </MainHeader>

  <body>
    <Navbar />

    <main class="md:mx-auto px-7 pb-2 w-full">
      <section
        class="max-w-7xl md:w-[85%] lg:w-full mx-auto post-content text-[19px]"
      >
        <!-- <PostHeader {title} {publishedDate} {updatedDate} /> -->
        <NewPostHeader {title} {publishedDate} {updatedDate} />

        <slot />
      </section>
    </main>
    <Footer />
  </body>
</html>
